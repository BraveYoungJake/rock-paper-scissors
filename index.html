<!DOCTYPE html>
<html>
    <script>
        (function() {
        //this object will be used to gauge wins between two choices as well as set the computers choices
     const rules = {
         rock: "paper",
         paper: "scissors",
         scissors: "rock",
     }

     const choices = Object.keys(rules);
     // below sets the score for the game
     let state = {
         wins: 0,
         loses: 0,
         ties: 0,
     }
     //setting up how the computer will choose randomly between rock, paper, or scissors.
     const randomChoice = () => choices[Math.floor(Math.random()*choices.length)]

     //set up of the actual game
     const play = (player,computer) => {
         let playerChoice = player.toLowerCase();
         let computerChoice = computer.toLowerCase();
        //checks to make sure player picked a valid choice
         if (! choices.includes(playerChoice)) {
             return "You didn't pick a valid choice. Try again."
         }
         //determines winner and adjusts state accordingly
        if (playerChoice === computerChoice) {
            state.ties++;
            return "Draw! You both selected the same."
        }

        if (rules[playerChoice] === computerChoice) {
            loses++
            return `You lose! ${computerChoice} beats ${playerChoice}!`;
        } else {
            wins++
            return `You win! ${playerChoice} beats ${computerChoice}`;
        }   
        }
        setInterval(() => {
		console.log(play('scissors', randomChoice()));
		console.log(state);
	}, 500);
        })
    </script>
</html>